# Linux

一种自由、开源的类 Unix 操作系统

## 文件系统

一切都是文件：所有被操作系统管理的资源(网卡/磁盘驱动/打印机/输入输出设备/文件/目录)都被抽象为文件的方式来进行管理和访问，可以通过统一的文件接口来管理和操作不同类型的资源，从而实现一种统一的文件操作方式，使得操作和管理这些资源更加统一和简便

如：使用读写文件的方式来对待网络接口

### inode

- 存储文件的元信息：硬盘的最小存储单位是扇区，块由扇区组成，文件数据存储在块中。一个文件可能存储在多个块中，但一个块只能存储一个文件。文件存储的元信息(文件被分为几块、每一块在的地址、文件拥有者、创建时间、权限、大小)，每个文件都有一个唯一的 inode 存储文件的元信息
- 大小固定：inode 是一种固定大小的数据结构，其大小在文件系统创建时就确定，且在文件的生命周期内保存不变
- 访问速度快：inode 访问速度非常快，因为系统可以直接通过 inode 号码定位到文件的元数据信息，无需遍历整个文件系统
- 数量有限：inode 数量有限，当 inode 用完，即使磁盘还有空间也无法再新建文件/目录
- 使用 stat 命令可以查看文件的 inode 信息

使用 inode 定位文件能够避免文件移动/修改/重命名带来的影响(inode 号不变)，同时通过 inode 号码获取文件元信息不需要遍历整个文件系统，速度更快

引入 inode 增加了文件系统的复杂性，需要通过系统命令或文件系统接口来访问和管理文件的 inode 信息

### 文件类型

- 普通文件：存储信息与数据
- 目录文件：用于表示和管理系统中的文件，目录文件中包含文件名与子目录名
- 符号链接文件：保留了指向文件的地址而不是文件本身
- 字符设备：用于访问字符设备(键盘)
- 设备文件：用于访问块设备(硬盘、软盘)
- 管道文件：用于进程间通信(匿名管道、有名管道)
- 套接字文件：用于进程间网络通信，或本地之间的的非网络通信

### Linux 目录树

Linux 使用目录树的层次结构来组织文件和目录，目录树由根目录(/)作为起始点向下延伸，形成一系列目录和子目录，每个目录可以包含文件和其他子目录

![](https://www.runoob.com/wp-content/uploads/2014/06/d0c50-linux2bfile2bsystem2bhierarchy.jpg)

- /bin：存放二进制可执行文件，常用命令一般都在这里
- /etc：存放系统管理和配置文件
- /home：存放所有用户文件的根目录
- /usr：存放系统应用程序
- /opt：额外安装的可选应用程序包所放至的位置
- /sbin：存放二进制可执行文件(root 限定)
- /tmp：公共的临时文件存储点

### 文件权限

每个文件都有特定的权限、所属用户、所属组，权限一般分为读(readable)、写(writable)、执行(executable)，分为三组，分别对应文件的属主(owner)、属组(group)、其他用户(other)，由此限制哪些用户/组可以对特定的文件进行什么样的操作

![](https://www.runoob.com/wp-content/uploads/2014/06/363003_1227493859FdXT.png)

- 文件类型：
  - d：目录
  - -：文件
  - l：软链接
- 权限：
  - r：读
    - 文件：可以查看文件内容
    - 目录：可以查看目录下的列表
  - w：写
    - 文件：可以修改文件内容
    - 目录：可以创建/删除目录下的文件
  - x：执行
    - 文件：可以运行为二进制文件
    - 目录：**可以进入目录**

超级用户可以无视访问权限，即能够访问权限为 000 的文件

所有用户都属于一个组，所有文件都有所有者与所在组